global proc jm_BR_refreshUI(){	textScrollList -e -removeAll _sourceFilenamePath_BR;	textScrollList -e -removeAll _targetFilenameItem_BR;		string $sourcePath = `textFieldButtonGrp -q -text _sqcListPath`;	string $fileType = `textFieldGrp -q -text _fileTypeInput`;	string $fileList[] = `getFileList -filespec ($sourcePath+"/*"+$fileType)`;	string $filterStr = `textFieldGrp -q -text _regStrInput`;	string $replaceStr = `textFieldGrp -q -text _replaceStrInput`;	if(`size $fileList` > 0)	{		for($f in $fileList)		{			textScrollList -e -append $f _sourceFilenamePath_BR;			string $newName = `substitute $filterStr  $f $replaceStr`;			textScrollList -e -append $newName  _targetFilenameItem_BR;		}	}}global proc jm_batchRenamer(){	string $movPath = `textFieldButtonGrp -q -text _sqcListPath`;	string $fileType =  `textFieldGrp -q -text _fileTypeInput`;	string $regStr = `textFieldGrp -q -text _regStrInput`;	string $replaceStr = `textFieldGrp -q -text _replaceStrInput`;	string $movList[] = `getFileList -filespec ($movPath+"/*"+$fileType)`;	for($mov in $movList)	{		string $newName = `substitute $regStr  $mov $replaceStr`;		sysFile -rename ($movPath+"/"+$newName) ($movPath+"/"+$mov);	}}global proc loadSequenceFile(string $filename,string $fileType){	textFieldButtonGrp -e -text $filename _sqcListPath;}global proc string findFilePath(){	string $filePath = `fileBrowserDialog -m 4 -fc "loadSequenceFile" -an "select_folder"`;	return $filePath; }global proc jm_BR_mainWin(){if (`window -exists w_JM_BR_win`)	deleteUI w_JM_BR_win;window -title "Batch Rename Sequence" w_JM_BR_win;	columnLayout;		text -align "left" -height 17 -label "source image location:" -width 200;		rowLayout -columnWidth2 280 200  -height 28 -numberOfColumns 2;			textFieldButtonGrp -cw2 200 80 -width 280 -text "" -buttonLabel "Browse" -bc "findFilePath" _sqcListPath;			textFieldGrp -cw2 120 80 -width 200 -text "" -label "Sequence file type:" -cc " jm_BR_refreshUI()" _fileTypeInput;			setParent ..;		rowLayout -columnWidth2 200 200  -height 28 -numberOfColumns 2;						textFieldGrp -cw2 100 100 -width 200 -text "" -label "regular" -cc " jm_BR_refreshUI()" _regStrInput;			textFieldGrp -cw2 100 100 -width 200 -text "" -label "replace with" -cc " jm_BR_refreshUI()" _replaceStrInput;			setParent ..;		rowLayout -columnWidth2 250 150  -height 17 -numberOfColumns 2 -width 80;			text -height 17 -label "source list:";			text -height 17 -label "target preview";			setParent ..;		rowLayout -columnWidth2 250 250 -height 291 -numberOfColumns 2 -width 680;				textScrollList -height 240 -width 250  _sourceFilenamePath_BR;				textScrollList -height 240 -width 250 _targetFilenameItem_BR;			setParent ..;//		rowLayout -columnWidth2 100 100 -height 291 -numberOfColumns 2;//			button -height 28 -label "Load" -width 100 -command " jm_BR_refreshUI()";			button -height 28 -label "Run" -width 100 -command " jm_batchRenamer()";		setParent ..;							showWindow;}